{% load static%}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thinknshop - Unified Red/White Header</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Base Styles (for font and body padding) */
        body {
            font-family: 'Inter', sans-serif;
            background: #f7f7f7;
            min-height: 100vh;
            padding-top: 130px;
        }
        
        @media (min-width: 768px) {
            body {
                padding-top: 155px;
            }
        }
        
        /* Custom Tailwind Configuration: RED THEME */
        .tns-gradient-red {
            background-image: linear-gradient(135deg, #ef4444, #dc2626);
        }
        .tns-text-gradient {
            background-image: linear-gradient(90deg, #ef4444, #b91c1c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Custom scrollbar for dark dropdowns */
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 2px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }
        
        /* Transition for transform in main nav */
        .skatezo-navbar-container {
            transition: transform 0.3s ease;
        }
        
        /* General Nav Link Styling for bottom nav */
        .nav-links a {
            font-family: 'Inter', sans-serif;
            letter-spacing: 0.01em;
        }
        
        /* Shadow for the floating bottom bar */
        nav.scrolled {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        /* Ripple effect CSS for JavaScript */
        .ripple {
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 600ms linear;
            background-color: rgba(0, 0, 0, 0.1);
            pointer-events: none;
        }
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        /* Responsive Fixes */
        @media (max-width: 767px) {
            .skatezo-search-container {
                max-width: 100%;
            }
            
            .skatezoo-logo {
                font-size: 1.5rem;
            }
            
            nav > div {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }
        
        @media (max-width: 640px) {
            .skatezoo-logo {
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>
    
    <header class="skatezo-navbar-container fixed top-0 left-0 right-0 z-[9999] bg-white border-b border-gray-200 shadow-lg">
        <!-- Top Banner -->
<div class="bg-black border-b border-white/10">
  <div class="max-w-7xl mx-auto px-3 py-2 flex items-center justify-center gap-2 text-[10px] sm:text-xs font-semibold uppercase text-white">

    <span class="opacity-70 hidden sm:inline">Free Shipping Above</span>

    <span class="px-2 py-[2px] border border-white/30 rounded-md tracking-wider">
      â‚¹500
    </span>

    <span class="opacity-40 hidden sm:inline">Pan-India Delivery</span>

  </div>
</div>

        <!-- Main Navigation -->
<nav class="bg-white border-b sticky top-0 z-40">
<div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">

<!-- LEFT -->
<div class="flex items-center gap-2">

<button onclick="toggleMobileMenu()" class="p-2 rounded-lg hover:bg-gray-100 text-gray-700">
<i class="fas fa-bars"></i>
</button>

<button onclick="toggleMobileSearch()" class="p-2 rounded-lg hover:bg-gray-100 text-gray-700">
<i class="fas fa-search"></i>
</button>

</div>

<!-- CENTER LOGO -->
<a href="{% url 'products:home' %}" class="text-xl font-black tracking-tight text-red-600">
Thinkn<span class="text-gray-900">Shop</span>
</a>

<!-- RIGHT -->
<div class="flex items-center gap-3">

{% if user.is_authenticated %}
<a href="{% url 'profile' %}" 
   class="w-9 h-9 rounded-full bg-red-600 text-white flex items-center justify-center font-bold text-sm shadow-sm hover:scale-105 transition">
    {{ user.username|slice:":1"|upper }}
</a>
{% else %}
<a href="{% url 'login' %}" 
   class="w-9 h-9 rounded-full border border-gray-300 text-gray-600 flex items-center justify-center hover:bg-gray-100 transition">
    <i class="fas fa-user text-sm"></i>
</a>
{% endif %}

<a href="{% url 'cart_view' %}" class="relative p-2 rounded-lg hover:bg-gray-100 text-gray-700">
<i class="fas fa-shopping-cart"></i>
<!-- <span class="absolute -top-1 -right-1 bg-red-600 text-white text-xs w-4 h-4 flex items-center justify-center rounded-full animate-pulse">
2
</span> -->
</a>

</div>
</div>

<!-- MOBILE SEARCH -->
<div id="mobileSearchBox" class="hidden px-4 pb-3 bg-white border-t">
<form method="GET" action="{% url 'products:product-list' %}"
      class="flex bg-gray-100 border rounded-lg overflow-hidden">

<input type="text" name="search" value="{{ request.GET.search }}"
       placeholder="Search products..."
       class="flex-1 bg-transparent px-3 py-2 text-sm outline-none">

<button type="submit" class="px-3 text-red-600">
<i class="fas fa-search"></i>
</button>
</form>
</div>
</nav>

<script>
function toggleMobileSearch(){
 document.getElementById('mobileSearchBox').classList.toggle('hidden');
}
</script>

    </header>

<!-- MOBILE OVERLAY -->
<div id="mobileOverlay"
class="fixed inset-0 bg-black/60 z-[9998] opacity-0 invisible transition-all duration-300"
onclick="closeMobileMenu()"></div>

<!-- MOBILE PANEL -->
<div id="mobileMenuPanel"
class="fixed top-0 left-[-85%] w-[85%] max-w-[330px] h-screen bg-white z-[9999] transition-all duration-300 overflow-y-auto shadow-2xl">

<!-- HEADER -->
<div class="sticky top-0 bg-white border-b px-4 py-3 flex items-center justify-between">

{% if user.is_authenticated %}
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-red-600 text-white rounded-full flex items-center justify-center font-bold">
{{ user.username|slice:":1"|upper }}
</div>
<div>
<p class="text-sm font-semibold">{{ user.username }}</p>
<p class="text-xs text-gray-500">{{ user.email }}</p>
</div>
</div>
{% else %}
<p class="text-xl font-black text-red-600">Thinkn<span class="text-gray-900">Shop</span></p>
{% endif %}

<button onclick="closeMobileMenu()" class="p-2 rounded-lg hover:bg-gray-100">
<i class="fas fa-times"></i>
</button>
</div>

<!-- SEARCH -->
<div class="p-4 border-b">
<form method="GET" action="{% url 'products:product-list' %}"
class="flex bg-gray-100 rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-red-500/30">

<input type="text" name="search" value="{{ request.GET.search }}"
placeholder="Search products..."
class="flex-1 px-4 py-3 bg-transparent text-sm outline-none">

<button class="px-4 text-red-600"><i class="fas fa-search"></i></button>
</form>
</div>

<!-- NAVIGATION -->
<div class="p-4 border-b space-y-1">
<p class="text-xs font-bold text-gray-400 mb-2 uppercase">Navigation</p>
<a href="{% url 'products:home' %}" class="tm-link"><i class="fas fa-home"></i>Home</a>
<a href="{% url 'products:product-list' %}" class="tm-link"><i class="fas fa-th-large"></i>All Products</a>
<a href="{% url 'products:category-list' %}" class="tm-link"><i class="fas fa-list"></i>Categories</a>
<a href="{% url 'products:brand-list' %}" class="tm-link"><i class="fas fa-tags"></i>Brands</a>
</div>

<!-- ACCOUNT -->
<div class="p-4 border-b space-y-1">
<p class="text-xs font-bold text-gray-400 mb-2 uppercase">Account</p>

{% if user.is_authenticated %}
<a href="{% url 'profile' %}" class="tm-link"><i class="fas fa-user"></i>My Profile</a>
<a href="{% url 'my_orders' %}" class="tm-link"><i class="fas fa-box"></i>My Orders</a>
<a href="{% url 'manage_address' %}" class="tm-link"><i class="fas fa-map-marker-alt"></i>Addresses</a>
<a href="{% url 'logout' %}" class="tm-link text-red-600"><i class="fas fa-sign-out-alt"></i>Logout</a>
{% else %}
<a href="{% url 'login' %}" class="tm-link"><i class="fas fa-sign-in-alt"></i>Login / Register</a>
{% endif %}
</div>

<!-- QUICK ACTIONS -->
<div class="p-4 grid grid-cols-3 gap-2">
<div class="tm-pill"><i class="fas fa-fire"></i><br>New</div>
<div class="tm-pill"><i class="fas fa-tags"></i><br>Sale</div>
<div class="tm-pill"><i class="fas fa-star"></i><br>Trending</div>
</div>
</div>

<style>
.tm-link{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;font-size:14px;color:#374151}
.tm-link:hover{background:#fee2e2;color:#dc2626}
.tm-pill{background:#fee2e2;border:1px solid #fecaca;color:#dc2626;padding:12px;border-radius:12px;font-size:12px;text-align:center}
</style>

<script>
const mobileOverlay = document.getElementById("mobileOverlay")
const mobileMenuPanel = document.getElementById("mobileMenuPanel")

function toggleMobileMenu(){
mobileOverlay.classList.replace("invisible","visible")
mobileOverlay.classList.replace("opacity-0","opacity-100")
mobileMenuPanel.classList.replace("left-[-85%]","left-0")
document.body.style.overflow="hidden"
}

function closeMobileMenu(){
mobileOverlay.classList.replace("visible","invisible")
mobileOverlay.classList.replace("opacity-100","opacity-0")
mobileMenuPanel.classList.replace("left-0","left-[-85%]")
document.body.style.overflow=""
}
</script>


</body>
</html>