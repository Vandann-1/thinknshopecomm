{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>My Account â€“ ThinknShop</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body class="bg-gray-50">

<!-- MOBILE HEADER -->
<header class="sticky top-0 z-40 bg-white border-b">
<div class="max-w-7xl mx-auto px-4 h-14 flex items-center justify-between">
<button onclick="openMenu()" class="p-2 rounded-lg hover:bg-gray-100">
<i class="fas fa-bars"></i>
</button>

<a href="/" class="text-lg font-black text-red-600">
Thinkn<span class="text-gray-900">Shop</span>
</a>

<a href="{% url 'cart_view' %}" class="p-2 rounded-lg hover:bg-gray-100">
<i class="fas fa-shopping-cart"></i>
</a>
</div>
</header>

<!-- OVERLAY -->
<div id="overlay" class="fixed inset-0 bg-black/40 hidden z-40" onclick="closeMenu()"></div>

<!-- SLIDE MENU -->
<div id="menu" class="fixed top-0 left-0 w-[85%] max-w-xs h-full bg-white z-50 -translate-x-full transition-all duration-300">

<div class="p-5 border-b flex gap-3">
<div class="w-12 h-12 rounded-full bg-red-600 text-white flex items-center justify-center font-bold text-lg">
{{ user.username|first|upper }}
</div>
<div>
<div class="font-semibold">{{ user.first_name|default:user.username }}</div>
<div class="text-xs text-gray-500">{{ user.email }}</div>
</div>
</div>

<div class="p-4 space-y-1 text-sm">
<a href="/" class="menu-link"><i class="fas fa-home"></i> Home</a>
<a href="{% url 'my_orders' %}" class="menu-link"><i class="fas fa-box"></i> Orders</a>
<a href="#" class="menu-link"><i class="fas fa-heart"></i> Wishlist</a>
<a href="#" class="menu-link"><i class="fas fa-cog"></i> Settings</a>

<form method="POST" action="{% url 'logout' %}">
{% csrf_token %}
<button class="w-full mt-3 bg-red-600 text-white py-2 rounded-xl font-semibold">Logout</button>
</form>
</div>
</div>

<style>
.menu-link{display:flex;gap:10px;align-items:center;padding:12px;border-radius:12px}
.menu-link:hover{background:#fee2e2;color:#dc2626}
</style>

<!-- MAIN -->
<main class="max-w-7xl mx-auto px-4 py-8 grid lg:grid-cols-4 gap-6">

<!-- SIDEBAR -->
<aside class="hidden lg:block bg-white rounded-xl border p-6">
<div class="text-center">
<div class="w-24 h-24 bg-red-600 text-white text-3xl font-bold rounded-full flex items-center justify-center mx-auto">
{{ user.username|first|upper }}
</div>
<div class="mt-3 font-semibold">{{ user.first_name|default:user.username }}</div>
<div class="text-xs text-gray-500">{{ user.email }}</div>
</div>

<hr class="my-6">

<nav class="space-y-1 text-sm">
<a class="menu-link" href="#">Profile</a>
<a class="menu-link" href="{% url 'my_orders' %}">Orders</a>
<a class="menu-link" href="#">Wishlist</a>
<a class="menu-link" href="#">Settings</a>
</nav>
</aside>

<!-- CONTENT -->
<section class="lg:col-span-3 space-y-6">

<div class="bg-white p-6 rounded-xl border">
<h1 class="text-xl font-bold mb-1">Account Overview</h1>
<p class="text-gray-500 text-sm mb-6">Manage your ThinknShop account</p>

<div class="grid sm:grid-cols-2 gap-4">
<div class="info-card">Username <span>{{ user.username }}</span></div>
<div class="info-card">Email <span>{{ user.email }}</span></div>
<div class="info-card">Joined <span>{{ user.date_joined|date:"M d, Y" }}</span></div>
</div>
</div>

</section>
</main>

<style>
.info-card{background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:14px;font-size:13px}
.info-card span{display:block;font-weight:600;color:#111;margin-top:4px}
</style>

<script>
function openMenu(){
document.getElementById("menu").classList.remove("-translate-x-full")
document.getElementById("overlay").classList.remove("hidden")
}
function closeMenu(){
document.getElementById("menu").classList.add("-translate-x-full")
document.getElementById("overlay").classList.add("hidden")
}
</script>

</body>
</html>
