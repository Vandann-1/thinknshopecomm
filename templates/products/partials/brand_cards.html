{% for brand in brands %}
<div class="h-full bg-white rounded-lg shadow-lg border border-gray-200 p-6 text-center transition-all duration-300 hover:shadow-xl flex flex-col">
    
    {% if brand.is_featured %}
    <div class="mb-4">
        <span class="bg-primary-600 text-white text-xs font-bold py-1 px-3 rounded-full">
            ‚≠ê FEATURED
        </span>
    </div>
    {% endif %}

    {% if brand.logo %}
    <img src="{{ brand.logo.url }}" alt="{{ brand.name }}" class="h-32 w-full object-contain mb-4">
    {% else %}
    <div class="h-32 bg-gray-100 flex items-center justify-center mb-4 rounded-lg">
        <span class="text-xl font-bold text-gray-600">{{ brand.name }}</span>
    </div>
    {% endif %}

    <h3 class="text-xl font-semibold text-gray-900">{{ brand.name }}</h3>

    {% if brand.description %}
    <p class="text-sm text-gray-600 h-12 overflow-hidden my-2">
        {{ brand.description|truncatewords:15 }}
    </p>
    {% endif %}

    <div class="my-3 text-xs text-gray-500 flex items-center justify-center gap-4">
        {% if brand.country %}
        <span class="flex items-center gap-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            {{ brand.country }}
        </span>
        {% endif %}
        {% if brand.established_year %}
        <span class="flex items-center gap-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
            Est. {{ brand.established_year }}
        </span>
        {% endif %}
    </div>

    {% comment %}
    {% if brand.avg_rating %}
    <div class="flex justify-center items-center gap-1 my-2">
        <span class="text-yellow-400">
            {% for i in "12345" %}
                {% if forloop.counter <= brand.avg_rating|floatformat:0 %}‚òÖ{% else %}‚òÜ{% endif %}
            {% endfor %}
        </span>
        <span class="text-xs text-gray-600">({{ brand.avg_rating|floatformat:1 }})</span>
    </div>
    {% endif %}
    {% endcomment %}

    <div class="mt-auto pt-4 space-y-2">
        <a href="{% url 'products:brand_detail' brand.slug %}" class="block w-full py-2 px-4 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
            View Products
        </a>
        
        {% if brand.website_url %}
        <a href="{{ brand.website_url }}" target="_blank" rel="noopener" class="block w-full py-2 px-4 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2">
            üåê Website
        </a>
        {% endif %}
    </div>
</div>
{% empty %}
<div class="w-full">
    <div class="bg-blue-50 border border-blue-200 text-blue-800 p-6 rounded-lg text-center">
        <h4 class="text-xl font-semibold mb-2">No brands found</h4>
        <p class="text-blue-700">No brands are currently available. Please check back later.</p>
    </div>
</div>
{% endfor %}